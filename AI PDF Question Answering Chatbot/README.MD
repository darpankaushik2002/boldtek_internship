ğŸ“„ AI PDF Question Answering Chatbot
(RAG + FAISS + Gemini 1.5 Flash + Chainlit)

An AI-powered PDF chatbot that allows users to upload PDF documents and ask questions about their content.
The system uses Retrieval-Augmented Generation (RAG) with FAISS vector search and Gemini 1.5 Flash to provide grounded, source-backed answers.

If the model is not confident in the retrieved context, it automatically falls back to internet search (DuckDuckGo).

ğŸš€ What This Project Does
1ï¸âƒ£ Upload PDFs

User uploads one or multiple PDF files.

PDFs are:

Loaded using PyPDFLoader

Split into chunks using RecursiveCharacterTextSplitter

Embedded using all-mpnet-base-v2

Stored in a FAISS vector database

2ï¸âƒ£ Ask Questions

User can ask:

â€œWhat is cloud security?â€

â€œExplain neural networks from the bookâ€

â€œWhat are the main threats mentioned?â€

The system:

Retrieves top relevant chunks from FAISS

Sends them to Gemini (RetrievalQA)

Generates grounded answers

Shows source references (file name + page number)

3ï¸âƒ£ Smart Reranking & Confidence Check

Before showing the answer:

Checks if answer is sufficiently supported by retrieved chunks

Uses LLM to validate grounding

Measures chunk-to-answer length ratio

If confidence is low â†’
ğŸŒ Automatically performs DuckDuckGo search fallback

ğŸ§  Architecture Overview

User Upload PDF
â¬‡
PDF Loader
â¬‡
Chunking (1000 size, 200 overlap)
â¬‡
SentenceTransformer Embeddings (all-mpnet-base-v2)
â¬‡
FAISS Vector Store
â¬‡
Retriever (Top 3 chunks)
â¬‡
Gemini 1.5 Flash (LLM)
â¬‡
Answer + Source Attribution

If low confidence â†’ Internet Search

ğŸ›  Tech Stack

Python

LangChain

FAISS (Vector Database)

Sentence Transformers

Google Gemini 1.5 Flash

Chainlit (Chat UI)

DuckDuckGo Search Tool

PyPDF2

python-dotenv

ğŸ“‚ Project Structure
â”œâ”€â”€ chainlitapp.py        # Main chatbot app
â”œâ”€â”€ pdf_utils.py          # PDF loading and splitting
â”œâ”€â”€ vectordb_utils.py     # FAISS vector store save/load
â”œâ”€â”€ main.py               # Bulk processing PDFs from /data
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .env                  # API keys (not committed)
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ mlbook.pdf
â”‚   â””â”€â”€ security_in_the_cloud.pdf
â””â”€â”€ uploads/              # Temporary uploaded files
âš™ï¸ Setup Instructions
1ï¸âƒ£ Create Virtual Environment

Windows:

python -m venv .venv
.\.venv\Scripts\Activate.ps1

Mac/Linux:

python -m venv .venv
source .venv/bin/activate
2ï¸âƒ£ Install Dependencies
pip install -r requirements.txt
3ï¸âƒ£ Add .env file
GOOGLE_API_KEY=YOUR_API_KEY
4ï¸âƒ£ Run the App
chainlit run chainlitapp.py

Then open the local URL provided.

ğŸ§ª How to Use

Click ğŸ“ Attach button

Upload PDFs

Ask questions in chat

See:

Answer from PDF

Source file name

Page number

If answer not grounded â†’ internet fallback

âœ¨ Key Features

âœ” Multi-PDF support
âœ” Vector database retrieval
âœ” LLM-powered QA
âœ” Source attribution
âœ” Confidence validation layer
âœ” Internet fallback
âœ” Clean chat UI (Chainlit)
âœ” RAG architecture implementation

ğŸ“ˆ Strenght of  this Project

This project demonstrates:

RAG (Retrieval-Augmented Generation)

Embeddings + Vector DB usage

LLM integration

Hybrid QA (documents + web)

Multi-step reasoning pipeline

Real-world AI system design

Evaluation logic (confidence scoring)

This is not just a chatbot â€”
This is a production-style document intelligence system.

ğŸ”® Future Improvements

Add streaming responses

Add citation highlighting

Add document-level summarization

Add memory for conversation history

Add re-ranking with cross-encoder

Add UI confidence score indicator

Deploy on cloud (Render / Railway / HuggingFace Spaces)

ğŸ‘¨â€ğŸ’» Author

Darpan Kaushik