ğŸ“„ Chainlit PDF Chatbot with Gemini 1.5 Flash, FAISS & DuckDuckGo Fallback
An interactive PDF question-answering chatbot powered by Gemini 1.5 Flash, LangChain, FAISS, and Chainlit. Users can upload PDFs, ask questions, and receive context-aware answers grounded in document content â€” with intelligent reranking and fallback to DuckDuckGo if confidence is low.

ğŸš€ Features
ğŸ“ Upload PDFs via Chainlit UI

ğŸ§  Answer questions using Gemini 1.5 Flash

ğŸ“š Retrieve relevant chunks from PDFs with FAISS

âœ… Rerank answers for grounding and quality

ğŸŒ Fallback to DuckDuckGo if PDF-based answer is weak

ğŸ’¾ Persistent FAISS vector index

ğŸ§© Built with LangChain, SentenceTransformer, and Chainlit

ğŸ§± Project Structure

ğŸ“ your_project/
â”‚
â”œâ”€â”€ chainlitapp.py           # Main Chainlit app logic
â”œâ”€â”€ main.py                  # Pre-index PDFs from `data/` into FAISS
â”œâ”€â”€ pdf_utils.py             # PDF loading and chunking logic
â”œâ”€â”€ vectordb_utils.py        # FAISS save/load helpers
â”œâ”€â”€ data/                    # Folder for pre-indexed PDFs
â”œâ”€â”€ uploads/                 # Runtime upload storage
â”œâ”€â”€ .env                     # API keys (e.g., GOOGLE_API_KEY)
â””â”€â”€ requirements.txt         # Required Python packages

ğŸ’¡ How It Works
User uploads PDF(s) via Chainlit interface.

PDFs are processed and split into chunks using RecursiveCharacterTextSplitter.

Chunks are embedded using all-mpnet-base-v2 and saved in FAISS.

A RetrievalQA chain is created with Gemini 1.5 Flash.

User's query is answered based on top-k document chunks.

A reranking prompt checks if the answer is grounded in context:

âœ… If confident â†’ show answer with sources.

âŒ If low confidence â†’ fall back to DuckDuckGo search.

ğŸ“¦ Dependencies
Example requirements.txt:


langchain
langchain-community
langchain-google-genai
chainlit
sentence-transformers
duckduckgo-search
python-dotenv
PyMuPDF



ğŸ§  Model & Tools
LLM: gemini-1.5-flash-latest

Embeddings: all-mpnet-base-v2 (SentenceTransformers)

Retriever: FAISS vector DB

Search fallback: DuckDuckGo via DuckDuckGoSearchRun

Interface: Chainlit

âœ… Example Usage
Upload a PDF (e.g., "product_manual.pdf").

Ask a question like:
"What are the safety instructions mentioned?"

Get an accurate answer from the document, or fallback to web if needed.

ğŸ“Œ Notes
PDFs uploaded during runtime are stored temporarily in uploads/.

FAISS index is saved locally (faiss_index/).

Supports reranking for trustworthy, grounded answers.





## âš™ï¸ Setup Instructions
----------------------------------------------------------------------



```bash
git clone https://github.com/your-repo/smartdoc-chatbot.git
cd smartdoc-chatbot
pip install -r requirements.txt
Create a .env file:

GOOGLE_API_KEY=your_google_api_key_here
Run preprocessing:-
python main.py
Start chatbot:-
chainlit run chainlit_app.py --port 8000

ğŸ“¬ Contact
Made with â¤ï¸ by Darpan.
Feel free to reach out for questions, suggestions, or collaboration.